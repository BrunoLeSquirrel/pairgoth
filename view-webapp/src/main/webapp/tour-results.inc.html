<div class="tab-content" id="results-tab">
  <div id="results-round" class="active-round-box">
    Results for round
    <button class="ui floating choose-round prev-round button">&laquo;</button>
    <span class="active-round">$round</span>
    <button class="ui floating choose-round next-round button">&raquo;</button>
#set($stats = $utils.getResultsStats($games))
    <span class="norbeak">( <span id="known">$stats.known</span> / $stats.total )</span>
    <div id="filter" class="toggle">
      <input id="filter-results" type="checkbox" value="true"/>
      <div class="filter-results checkbox">
        <div class="circle"></div>
      </div>
      <label>Filter</label>
    </div>
  </div>
  <div id="results-list" class="roundbox">
    <table id="results-table" class="ui celled striped table">
      <thead class="centered">
        <th>table</th>
        <th>white</th>
        <th>black</th>
        <th>result</th>
      </thead>
      <tbody>
#set($dispRst = {'?':'?', 'w':'1-0', 'b':'0-1', '=':'½-½', 'X':'X', '#':'1-1', '0':'0-0'})
#foreach($game in $games)
  #set($white = $pmap[$game.w])
  #set($black = $pmap[$game.b])
  #if($black && $white)
        <tr id="result-$game.id" data-id="$game.id">
          <td>#$game.t</td>
          <td class="white player #if($game.r == 'w' || $game.r == '#') winner #elseif($game.r == 'b' || $game.r == '0') looser #end" data-id="$white.id" data-sort="$white.name $white.firstname"><span>#if($white)$white.name $white.firstname #rank($white.rank)#{else}BIP#end</span></td>
          <td class="black player #if($game.r == 'b' || $game.r == '#') winner #elseif($game.r == 'w' || $game.r == '0') looser #end" data-id="$black.id" data-sort="$black.name $black.firstname"><span>#if($black)$black.name $black.firstname #rank($black.rank)#{else}BIP#end</span></td>
          <td class="result centered" data-sort="$game.r" data-result="$game.r">$dispRst[$game.r]</td>
        </tr>
  #end
#end
      </tbody>
    </table>
  </div>
</div>
